title: "迟到的WordPress搬家记录"
date: 2011-11-29 10:55:40
tags: [建站, 流水账]
id: 118
categories: 建站心得
---

上周生病一周，几乎一直在沙发和床之间窝着。挂水，吃中药，貌似很久没有这么难受过了。

补上迟到的搬家记录。

<!--more-->

第一件要做的事情就是导出 MySQL 数据库，备份 WordPress 目录。这两件事很简单，网上教程一搜一大把，就不多废话了。需要注意的是导出 MySQL 时最好只选择需要导出的库就好，不要全部导出。
下一步，导入 MySql 到新主机，这里在不同版本的 MySQL 之间迁移数据可能会出现一些错误。注意看系统返回的错误代码，根据错误信息把相应的 SQL 文件中对应出错语句删掉就好。导入的步骤是先在新主机后台创建数据库，创建用户并关联。
接下来，上传Wordpress文件并解压。这一步基本上不会出什么问题。然后修改 wp_config.php 文件，将刚才创建的数据库名称和对应的用户名密码替换旧的值即可。
至此，数据转移工作基本完成，只要把域名指向新主机的IP即可，接下来只要等待域名生效。

域名生效后试着访问一下，一般来说页面就正常显示了。不过这时你会发现所有的内页链接全部失效。这是因为迁移后固定链结的指向失效了，需要更新固定链结。方法很简单：进入后台，找到固定链接设置，这时的设置跟你之前的应该一样，直接点击“保存”两次（一次有时无效）即可。